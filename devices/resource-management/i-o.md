# 何时密集
- O
  - 例如考虑[[tensorboard]]的[[pl-logs]]是每个epoch还是每个step存
  - 例如[[tqdm]]有时可能疯狂输出一步一输出（而不是本地的正常行为），需要关掉
    - 这和`stderr, stdout`有关
    - 例如[[trainer]]中可以关
  - [[linux-edit-commands]]时
- I
  - 主要[[dataloader]]，注意进程个数，同时跑的个数等
  - 可以考虑[[resource-management/disk]]和[[memory]]的选择：往内存放，就可以少读
  - 调试时建议[[jupyter-basics]]，读进一次到内存不用反复读
- general
  - 联系[[memory]]，虚拟内存/swap可能导致磁盘io过高
  - 对外联网。很多时候在等网
    - [[network-i-o]]当然也算io
  - 高强度写[[logs]]
- 此时往往可用[[coroutine]], [[py-process-thread#伪多线程]]等提速
# 峰谷、波动思想
- 思考题：利用此思想。地铁上行扶梯为什么比下行多？
- 正确、合理答案：上行流量有波动
- 其它理由（未必合理，或者不合理）
  - 上行人楼梯走得比下行慢，所以转化成电梯需要更大带宽
    - 不太合理，因为流量不变，只是停留在台阶上的时间变了
    - [[equivalent]]楼梯变长
      - 除非你说希望人间距减小（emm，也不太合理）
  - 增大社会utility角度：上行扶梯改成电梯utility大
    - 搬东西
    - 向后倒，危险
      - 肯定不是这作为一道思考题想考察的方面。太domain-specific
    - 人运动的“真实时间”减少得多，因为下行之后往往还要等地铁
    - 总之算是合理，但是应该是些次要原因
  - 如果下行（进入）流量大于上行流量，会不平衡直到塞满地铁站，不合理
    - 不太合理
    - 和合理的那个理由一对比，思考一下你就看出来了。即使下行一条上行两条，it's very unlikely that 上行会带宽不够堵住……或者在这个问题显著远远之前，上行波动的问题就显著了