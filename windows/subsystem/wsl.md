- 前置
  - [[administrator-powershell]]
  - [[7-permissions]]
- [参考](https://learn.microsoft.com/zh-cn/windows/wsl/install)
# 安装
- [[administrator-powershell]]
  - linux系统的[[CRUD]]
    - 不同时期可能不同。时至2023.3
    - 增：`wsl --install`
      - 第一次运行需要[[administrator-powershell]]
      - 例如`wsl --install -d Ubuntu-20.04`指定distro
    - 删：`wsl --unregister Ubuntu-20.04`即可
    - 查：`wsl --list`
  - 不同时期，是否默认直接使用主机[[proxy-basics]]可能不同。自己试试吧
  - 可能需要更新一个内核，[参考](https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-4---download-the-linux-kernel-update-package)
  - 过程中可能需要`Enter new UNIX username:`等，参考[[7-permissions]]
    - 暂时没找到怎么完全[[silent]]
    - 但是你如果在`Enter new UNIX username:`时直接`Ctrl+C`退出，之后就可以[[silent]]不需要每次[[sudo]]时输入密码
- 此时可以尝试运行各种命令了
  - 比如`sudo apt update`
    - 然后装软件，例如linux的[[git-installation]]（`sudo apt install git`）
    - [[v2raya]]这种则需要[[wsl-systemd]]
  - 比如使用windows的代理
    - [参考](https://zhuanlan.zhihu.com/p/153124468)
      - 核心代码`host_ip=$(cat /etc/resolv.conf |grep "nameserver" |cut -f 2 -d " ")`，然后端口该是啥是啥
      - [[configure-proxy]]有讲
    - 注意需要[[configure-proxy]]监听`0.0.0.0`
      - 而且有些客户端如geph还需要[[refresh]]重连（有些却不需要）
    - 然后当然就可以[[zsh]]等
  - [[conda-installation]]
- 之后入口
  - 开始菜单可能有
    - 比如`Ubuntu`等字样
    - 可以用在[[taskbar#快捷键]]
  - vscode，例如[[wsl-develop]]
  - [[wsl-command]]
    - 在[[powershell-basics]]中运行
    - 可以高度自动化，[[silent]]