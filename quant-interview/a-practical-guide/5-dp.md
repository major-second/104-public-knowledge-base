- 参考算法题[[dp]]
## principle of optimality
- 转移过程
  - 下个状态$x_{k+1}=f(x_k, u_k, w_k)$，$u_k$是状态，$w_k$是随机扰动
  - 最后一轮profit/cost只取决于状态$x_N$，其它（包括$k=0, \cdots, N-1$的）都可取决于$x_k, u_k, w_k$
  - 目标：优化cost
- principle of optimality: 最好策略的结尾也是最好的
- 因此：考察方向
  - 从后向前递推，也就是[[backward-induction]]
  - 从前向后[[oi-wiki-basic/recursion]]
    - $min ...$中显然用到递归
  - 递归出口是$N$处（最后）
  - 两个方向相反
## 题
- dice game
  - 从后向前递推
  - 继续/不继续两种决策！
- world series
  - 比分0123，共16种状态，从后向前递推
  - 边际条件：下面一排100，右边一排100
  - 欧式美式期权（参考[[6-option]]）都可以这么算
- dynamic dice game
  - 已经赢的$\ge 15$就停
  - 所以倒推
    - 已经赢14：终局期望是$15,16,17,18,19,0$的均值$17/6$
    - 13：$17/6, 15, 16,17,18, 0$的均值
    - 以此类推
  - 注意没法用[[5-martingale-and-random-walk]]，不要拿着锤子看钉子
    - 输不是一次性输15块，而是输光所有的（小于15块）。所以不是随机游走
- dynamic card game
  - 拿3红3黑举例
  - $4*4=16$的表格
  - 边界条件：只剩红，则收益0，只剩黑，则收益就是剩下黑的数量
  - 画表倒推动规即可
  - 如果你说不出具体数字，也要说出转移方程（递推/递归方法）